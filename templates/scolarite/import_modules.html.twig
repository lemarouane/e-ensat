
{% extends 'template.html.twig' %}

{% block title %}{{'import_module'|trans}}{% endblock %}

{% block body %}

        <!--breadcrumb-->
        <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
          <div class="breadcrumb-title pe-3">{{'import_module'|trans}}</div>
          <div class="ps-3">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb mb-0 p-0">
                <li class="breadcrumb-item"><a href="javascript:;"><i class="bi bi-check-square-fill"></i></a>
                </li>
                <li class="breadcrumb-item active" aria-current="page"> {{'import_module'|trans}} <span style="font-weight:bold;"> -
     {% if filiere %} 
     {% for f in filiere %}
                    {{ f }} -
    {% endfor %}
    {% endif %} {{'annee_univ'|trans}} : {{annee_univ}} / {{annee_univ + 1}} </span> </li>
              </ol>
            </nav>
          </div>
        
        </div>
        <hr/>

        <div class="card">
          <div class="card-body">
            <div class="table-responsive">
              
{% set colors = ['#FAF3F0','#D4E2D4','#FFCACC','#DBC4F0','#94A684','#AEC3AE','#E4E4D0','#FFEEF4'] %}
{% set colors1 = ['#FCF4FF', '#FFF9F4', '#F5FCFF' ,'#F4FFF3', '#FFF6F9' , '#FCF4FF', '#FFF9F4', '#F5FCFF' ,'#F4FFF3', '#FFF6F9', '#FCF4FF', '#FFF9F4', '#F5FCFF' ,'#F4FFF3', '#FFF6F9' ,'#F4FFF3', '#FFF6F9', '#FCF4FF', '#FFF9F4', '#F5FCFF' ,'#F4FFF3', '#FFF6F9'] %}
{% set i = 0 %}

<table class="table table-bordered" style="text-align:center ; font-weight:bold; font-size:12px; border : 1px solid black " >
							
								<tbody>
                <th class="col-1" style="background-color:lightblue!important;">{{'filiere'|trans}}  </th>
                <th class="col-1" style="background-color:lightblue!important;">{{'semestre'|trans}}  </th>
                <th class="col-1" style="background-color:lightblue!important;">{{'code_module'|trans}}  </th>
                <th class="col-3" style="background-color:lightblue!important;">{{'intitule_module'|trans}}  </th>

                <th class="col-1" style="background-color:lightblue!important;">{{'statut_importation'|trans}}  </th>     
                    
          {% set f_changed = 1 %}
					{% for item in module %}
        
            <tr style="background-color:{{colors1[i]}};"> {% if f_changed == 1 %}   {% set f_changed = 0 %} <td rowspan="{{count_string[item[0]['filiere']]}}" style="vertical-align : middle;text-align:center;" > {{item[0]['filiere']}} </td>  {% endif %} <td>{{item[0]['COD_PEL']}}</td>    <td>{{item[0]['COD_ELP']}}</td>  <td>{{item[0]['LIB_ELP']}}</td>  
            
       
        
         {% if item[1] == 'OK' %}
             <td style="background-color:#90EE90!important;">{{item[1]}}</td> 
             {% else %}
             <td>{{item[1]}} </td>
        {% endif %}

        
              </tr>

{% if module[loop.index0 + 1] is defined %}
            	{% if module[loop.index0][0]['filiere'] != module[loop.index0 + 1][0]['filiere'] %}
              {% set f_changed = 1 %} 
              {% set i = i + 1 %} 

	            {% endif %}
{% endif %}

          {% endfor %}
										


																										
						</tbody>
							
</table>

            </div>


          </div>
        </div>

      




  
{% endblock %}



