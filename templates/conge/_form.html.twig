
<style>
/* Chrome, Safari, Edge, Opera */
#conge_nbJour::-webkit-outer-spin-button,
#conge_nbJour::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
#conge_nbJour {
  -moz-appearance: textfield;
}
</style>
    <!--breadcrumb-->
            <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
              <div class="breadcrumb-title pe-3">{{'dms'|trans}} </div>
              <div class="ps-3">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb mb-0 p-0">
                    <li class="breadcrumb-item"><a href="javascript:;"><i class="bi bi-arrow-bar-up"></i></a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">{{'congs'|trans}} </li>
                  </ol>
                </nav>
              </div>
         
            </div>
            <!--end breadcrumb-->

              <div class="row">
                 <div class="col-lg-12 mx-auto">
                      {% include "flaches.html.twig" %}
                  <div class="card">
                   

   <div class="card-body">
    <div class="row g-3">
									<div class="col-12 col-lg-4">
										<div class="card shadow-none border radius-15" style="background-color:#f8f9fa;">
											<div class="card-body" >
								
												<h5 class="mt-3 mb-0 text-success text-center">{{'annee'|trans}} {{ "now"|date("Y") }}</h5>
												<p class="mb-1 mt-4"><span>{{'c_normale'|trans}}</span>  <span class="float-end"><span class="badge bg-success badge-pill" id="cn_annee_encours">{{en_cours_normale}}</span>  <span> {{'j_rest'|trans}}</strong/></span></span>
												</p>
												<div class="progress" style="height: 5px;">
													<div class="progress-bar bg-success" role="progressbar" style="width: {{ ((22 - en_cours_normale) / 22) * 100 }}%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
                          <p class="mb-0 mt-1 font-13 text-end">{{22 - en_cours_normale}}/22</p>
											</div>
										</div>
									</div>
									<div class="col-12 col-lg-4">
										<div class="card shadow-none border radius-15" style="background-color:#f8f9fa;">
											<div class="card-body" >
										
												<h5 class="mt-3 mb-0 text-primary text-center">{{'annee'|trans}} {{ "now"|date("Y") }}</h5>
												<p class="mb-1 mt-4"><span>{{'c_exp'|trans}}</span>  <span class="float-end"><span class="badge bg-primary badge-pill" id="ce_annee_encours">{{en_cours_ex}}</span><span>  {{'j_rest'|trans}} </strong> </span></span>
												</p>
												<div class="progress" style="height: 5px;">
													<div class="progress-bar bg-tifanny" role="progressbar" style="width: {{ ((10 - en_cours_ex) / 10) * 100 }}%;" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
                         <p class="mb-0 mt-1 font-13 text-end">{{10 - en_cours_ex}}/10</p>
											</div>
										</div>
									</div>
									<div class="col-12 col-lg-4">
										<div class="card shadow-none border radius-15" style="background-color:#f8f9fa;">
											<div class="card-body"  >
											
												<h5 class="mt-3 mb-0 text-danger text-center">{{'annee'|trans}} {{ "now"|date("Y")-1 }}</h5>
												<p class="mb-1 mt-4"><span>{{'c_normale'|trans}}</span>  <span class="float-end"><span class="badge bg-danger badge-pill" id="cn_annee_prec">{{prec_normale}}</span><span> {{'j_rest'|trans}}</strong> </span></span>
												</p>
												<div class="progress" style="height: 5px;">
													<div class="progress-bar bg-danger" role="progressbar" style="width: {{ ((22 - prec_normale) / 22) * 100 }}%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
              <p class="mb-0 mt-1 font-13 text-end">{{22 - prec_normale}}/22</p>

											</div>
										</div>
									</div>
								</div>
    </div>
                     
                    <div class="card-body">
                       <div class="row g-3">

                         <div class="col-12 col-lg-4">
                            <div class="card shadow-none bg-light border">
                              <div class="card-body">
                                           <div class="card-header py-2 bg-transparent">
                  <h6 class="mb-0">{{'titles.new_dem_cong'|trans}}</h6> 
                </div>
                                  <div class="row g-3">
                        {{ form_start(form ,{ 'attr' : { 'class' : 'row g-3 form-check '  }}) }} 
                              <div class="col-12">
                              {{ form_row(form.annee,{ 'attr' : { 'class' : 'form-select' }}) }} 
                            </div>
                             <div class="col-12">
                              {{ form_row(form.typeConge,{ 'attr' : { 'class' : 'form-select' }}) }} 
                            </div>
                             
                             <div class="col-12" >
                            {{ form_row(form.dateDebut ,{ 'attr' : { 'class' : 'form-control js-datepicker' }})  }}
                             </div>

                             <div class="col-12" >
                             {{ form_row(form.dateReprise ,{ 'attr' : { 'class' : 'form-control js-datepicker' }}) }}
                             </div>
                    
                             <div class="col-12">
                              {{ form_row(form.nbJour,{ 'attr' : { 'class' : 'form-control' }}) }} 
                            </div>
                           
                            <div class="col-12">
                               {{ form_row(form.motifs,{ 'attr' : { 'class' : 'form-control'  }}) }}
                            </div>


                        

                            <div class="col-12">
                              <div class="d-grid">
                              
                                <button type='submit' class="btn btn btn-success px-4"> {{'save'|trans}} </button>
                                
                             
                            </div>
                           {{ form_row(form._token) }}
                                
                  {{ form_end(form , {'render_rest': false}) }}
                                  </div><!--end row-->
                              </div>
                            </div>  
                        </div>

                       </div><!--end row-->







                         <div class="col-12 col-lg-8">
                            <div class="card shadow-none bg-light border">
                              <div class="card-body">
                                   <div class="card-header py-2 bg-transparent">
                  <h6 class="mb-0">{{'titles.hist_dem_cong'|trans}}</h6> 
                </div>
                                  <div class="row g-3">
                         <div class="table-responsive">
                            <table id="example" class="table table-striped table-bordered" style="text-align:center !important ; " >
                              <thead >
                                <tr >
                        
                                  <th style="text-align:center !important ; ">{{'n'|trans}}</th>
                                  <th style="text-align:center !important ; ">{{'type'|trans}}</th>	
                                  <th style="text-align:center !important ; ">{{'date_envoie'|trans}}</th>	
                                  <th style="text-align:center !important ; ">{{'date_debut'|trans}}</th>
                                  <th style="text-align:center !important ; ">{{'date_reprise'|trans}}</th>	
                                  <th style="text-align:center !important ; ">{{'nb_Jours'|trans}}</th>				
                                  <th style="text-align:center !important ; ">{{'annee'|trans}}</th>			
                                  <th style="text-align:center !important ; ">{{'statut'|trans}}</th>	
                                  <th style="text-align:center !important ; ">{{'niveau_act'|trans}}</th>       
                                  <th style="text-align:center !important ; ">{{'motif_refus'|trans}}</th>	
                                  <th >{{'op'|trans}}</th>	
                            
                                
                                </tr>
                              </thead>
                              <tbody>
                                {% for conge in conges %}
                                    <tr >
                                        <td>{{ conge.id }}</td>
                                         <td>

                                      	{% if conge.typeConge  == 'N' %}
		                                          {{'normale'|trans}}
		                                              {% endif %}
	                                       {% if conge.typeConge  == 'E' %}
                                              {{'excep'|trans}}
	                                       {% endif %}
                                         
                                         </td>
                                        <td>{{ conge.dateEnvoie|date('Y-m-d - H:i') }}</td>
                                        <td>{{ conge.dateDebut|date('Y-m-d') }} </td>
                                        <td>{{ conge.dateReprise|date('Y-m-d') }} </td>
                                          <td>{{ conge.nbJour }} </td>
                                        <td>{{ conge.annee }} </td>

                                        {% if conge.statut  == '-1' %}
                                        <td style="color:black;font-weight:bold;">{{'encours'|trans}}</td>
                                         {% endif %}
                                           
                                        {% if conge.statut  == '0' %}
                                        <td style="color:blue;font-weight:bold;"> {{'confirme'|trans}}</td>
                                         {% endif %}
                                           
                                        {% if conge.statut  == '1' %}
                                        <td style="color:green;font-weight:bold;"> {{'valide'|trans}}</td>
                                         {% endif %}
  
                                        {% if conge.statut  == '2' %}
                                        <td style="color:red;font-weight:bold;"> {{'refuse'|trans}}</td>
                                         {% endif %}



                                      {% if conge.niveau  == 'ROLE_RH' %}
                                        <td style="color:black;font-weight:bold;"> {{'service_rh'|trans}}</td>
                                          
                                        {% elseif conge.niveau  == 'ROLE_CHEF_SERV' %}
                                        <td style="color:black;font-weight:bold;"> {{'chef_service'|trans}}</td>
                                          
                                        {% elseif conge.niveau  == 'ROLE_DIR_ADJ' %}
                                        <td style="color:black;font-weight:bold;"> {{'dir_adj'|trans}}</td>
                                         
                                        {% elseif conge.niveau  == 'ROLE_SG' %}
                                        <td style="color:black;font-weight:bold;"> {{'sg'|trans}}</td> 

                                          {% elseif conge.niveau  == 'ROLE_CHEF_DEP' %}
                                        <td style="color:black;font-weight:bold;"> {{'chef_dep'|trans}}</td> 

                                          {% elseif conge.niveau  == 'ROLE_CHEF_FIL' %}
                                        <td style="color:black;font-weight:bold;"> {{'chef_filiere'|trans}}</td> 

                                        {% elseif conge.niveau  == 'ROLE_CHEF_STRUCT' %}
                                        <td style="color:black;font-weight:bold;"> {{'chef_structure'|trans}}</td> 

                                        {% elseif conge.niveau  == 'ROLE_DIR' %}
                                        <td style="color:black;font-weight:bold;"> {{'directeur'|trans}}</td>

                                        {% else %}
                                          <td> - </td>
                                        {% endif %}


                                       <td>{{conge.motifRefu}}</td>


                                        <td >
                                          <div class="table-actions fs-6 " >
                                           {% if conge.statut == "-1"  and conge.bloque != 1 %}
 <a  href="{{ path('app_conge_delete', {'id': conge.id ,'_token':csrf_token('delete' ~ conge.id) }) }}" class="text-danger" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Delete" onclick=" function delete_msg_trans()
{
    langue = document.getElementById('langue').value  ;
    
    msg = 'Are yous sure to delete this item ?';
if(langue=='fr-FR'){
  msg = 'Êtes-vous sûr de vouloir supprimer cet enregistrement ?'
    }
if(langue=='en-GB'){
  msg = 'Are yous sure to delete this item ?'
          }
  if(langue=='ar-AR'){
  msg = '? هل أنت متأكد أنك تريد حذف هذا السجل '
              }
if(langue=='es-ES'){
   msg = '¿Está seguro de que desea eliminar este registro?'
                  }
   return msg ;
}
 a = delete_msg_trans() ; return confirm(a)"><i class="bi bi-trash-fill"></i></a>  
 {% endif %}                                        </div>
                                              
                                        </td>

                                    </tr>
                            
                                {% endfor %}
                              </tbody>
                            
                            </table>
                          </div>
                                  </div><!--end row-->
                              </div>
                            </div>
                    </div>

                     </div>
                    </div>
                 </div>
              </div><!--end row-->


{% block javascripts %}
  {{ encore_entry_script_tags('bootstrap-datepicker.min') }}  
  {{ encore_entry_script_tags('conge_calc') }}
  
{% endblock %}



