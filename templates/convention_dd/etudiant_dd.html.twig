{% extends 'template.html.twig' %}

{% block title %}{{'Etudiant_DD_Table'|trans}}{% endblock %}

{% block body %}

        <!--breadcrumb-->
        <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
          <div class="breadcrumb-title pe-3">{{'convention_dd'|trans}}</div>
          <div class="ps-3">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb mb-0 p-0">
                <li class="breadcrumb-item"><a href="javascript:;"><i class="bi bi-layers-fill"></i></a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">{{'convention_dd'|trans}}</li>
              </ol>
            </nav>
          </div>
         
        </div>
        <hr/>
        <div class="card">
          <div class="card-body">
                       <div class="row g-3">
                        
                         <div class="col-3">
                            <div class="card shadow-none bg-light border">
                                <div class="card-body row g-2">
                                    {{ form_start(form ,{ 'attr' : { 'class' : 'row g-3' }}) }}
                                        <div class="col-12">
                                            {{ form_row(form.filiere ,{ 'attr' : { 'class' : 'form-select' }}) }}
                                        </div>
                                        <div class="col-12">
                                            {{ form_row(form.convention ,{ 'attr' : { 'class' : 'form-select' }}) }}
                                        </div>
                                        <div class="col-12">
                                            {{ form_row(form.anneeSoutenance,{ 'attr' : { 'class' : 'form-select' }}) }} 
                                        </div>
                                                    
                                        <div class="d-grid">
                                            <button  class="btn btn-block btn-primary " value="valider" >{{'valider'|trans}}</button>
                                        </div>
                                        {{ form_row(form._token) }}
                                    {{ form_end(form , {'render_rest': false}) }} 
                                </div>
                              
                            </div>
                         </div>
                         {% if etudiants is not empty %}
                         <div class="col-9">
                            <div class="card shadow-none bg-light border">
                              <div class="card-body">

                                <div class="table-responsive">
                                    <table id="ensa7" class="table table-striped table-bordered" style="text-align:center !important ;" >
                                <thead>
                                    <tr>
                                        <th id="tbl" style="background-color:#ff6632 ; text-align:center !important ;" ></th>
                                        <th style="text-align:center !important ;">{{'code_apogee'|trans}}</th>
                                        <th style="text-align:center !important ;">{{'nom'|trans}}</th>
                                        <th style="text-align:center !important ;">{{'prenom'|trans}}</th>
                                        <th style="text-align:center !important ;">{{'cne'|trans}}</th>
                                    </tr>
                                </thead>
                <tbody>
                   {% for etudiant in etudiants %}
                                        <tr>
                                            <td>{{ etudiant['APOGEE'] }}</td>
                                            <td>{{ etudiant['APOGEE'] }}</td>
                                            <td>{{ etudiant['NOM'] }}</td>
                                            <td>{{ etudiant['PRENOM'] }}</td>
                                            <td>{{ etudiant['CNE'] }}</td>

                                        </tr>
                                    {% endfor %}
                </tbody>
              
              </table>
                                </div>
                              </div>
                              
                            </div>
                         </div>
                            <a class="btn btn-success col-12" id="ajouter"  style="margin-bottom: 5px;">{{'valider'|trans}}</a>
                            <div id="path-to-convention" data-href="{{ path('add_list_etudiant')}}"> </div>
                            {% else %}
                            <div class="alert alert-success">
                                  <strong>  {{'MOD_EMPTY_CONV'|trans}} </strong>  
                            </div>
                          {% endif %}
                       </div><!--end row-->
                            
                     </div>
        </div>
                



{% endblock %}

   {% block javascripts %}
        {{parent()}}

        {{ encore_entry_script_tags('conventionDD') }}
  {% endblock %}