
{% extends 'template.html.twig' %}

{% block title %}{{'titles.show_personnel'|trans}}{% endblock %}

{% block body %}

		 <!--breadcrumb-->
            <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
              <div class="breadcrumb-title pe-3">{{'titles.gest_personnel'|trans}}  </div>
              <div class="ps-3">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb mb-0 p-0">
                    <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">{{'titles.show_personnel'|trans}}</li>
                  </ol>
                </nav>
              </div>
         
            </div>
            <!--end breadcrumb-->


    <div class="card border shadow-none">
             <div class="card-header py-3">


              
                  <div class="row align-items-center g-3">
                    <div class="col-12 col-lg-6">
                      <h5 class="mb-0">  {{ personnel.nom }}  {{ personnel.prenom }} </h5>
                    </div>
                    <div class="col-12 col-lg-6 text-md-end">
                      
                      
                    </div>
                  </div>
             </div>
        
             <div class="card-header py-2 bg-light">
               <div class="row row-cols-1 row-cols-lg-4">
                 <div class="col">
                    <div class="">

        <img id='file' src="{{asset('uploads/images/') ~ personnel.imageName}}" class="rounded-circle shadow" width="180" height="180" alt="">                            
                    </div>
                  </div>
    
                
                 <div class="col">
                  <div class="">
                    <address class="m-t-5 m-b-5">
                       <strong class="text-inverse">{{'titles.info_perso'|trans}}  <br><br></strong>


                            <div class="d-flex align-items-center mb-0">
                                  <div>
                                <strong>  <p class="mb-0">{{'nom_prenom'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.nom }} {{  personnel.prenom }}</p>
                                </div>
                              </div>

                              <div class="d-flex align-items-center mb-0">
                                  <div>
                                 <strong>  <p class="mb-0">{{'nom_prenom_ar'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.nomArabe }} {{  personnel.prenomArabe }}</p>
                                </div>
                              </div>

                                <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'date_n'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.dateNaissance|date('Y-m-d')  }} </p>
                                </div>
                              </div>

                            <div class="d-flex align-items-center mb-0">
                                  <div>
                                 <strong>  <p class="mb-0">{{'provinces'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.provinceNaissance.nomProvince }}</p>
                                </div>
                              </div>

                                <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'genre'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.genre }}</p>
                                </div>
                              </div>

                               <div class="d-flex align-items-center mb-0">
                                  <div>
                                   <strong> <p class="mb-0">{{'tel'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.tel }}</p>
                                </div>
                              </div>


                            <div class="d-flex align-items-center mb-0">
                                  <div>
                                   <strong> <p class="mb-0">{{'adresse'|trans}}  </p></strong>
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.adresse }}</p>
                                </div>
                              </div>
                               
                            <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'sit_famil'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.situationFamiliale }}</p>
                                </div>
                              </div>                    
                    </address>
                   </div>
                 </div>
                <div class="col">
                  <div class="col">
                  <div class="">
                    <address class="m-t-5 m-b-5">
                      <strong class="text-inverse">{{'titles.info_admin'|trans}} <br><br></strong>

                             <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'dep'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">   {{  personnel.departementId.libelleDep }}</p>
                                </div>
                              </div>  

                               <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'service'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">   {{  personnel.serviceAffectationId.nomService }}</p>
                                </div>
                              </div>  

                               <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'corps'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">{{  personnel.corpsId.designationfr }}</p>
                                </div>
                              </div>  
                              
                               <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'grade'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">{{  personnel.gradeId.designationfr }}</p>
                                </div>
                              </div>  

                                <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'echelon'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">{{  personnel.echelonId.designation}}</p>
                                </div>
                              </div>  
                                <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">{{'sit_admin'|trans}}  </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">{{  personnel.situationAdm.libelleSituation }}</p>
                                </div>
                              </div>  

                               <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0"> {{'date_rec'|trans}}   </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">{{  personnel.dateRecrutement|date('Y-m-d')  }}</p>
                                </div>
                              </div>  


                             <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0"> {{'date_affect_minsup'|trans}}   </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0">{{  personnel.dateAffectationMESRSFC|date('Y-m-d')  }}</p>
                                </div>
                              </div>  

                              
                             <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0"> {{'date_affect_ENSAT'|trans}}   </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.dateAffectationENSAT|date('Y-m-d') }} </p>
                                </div>
                              </div> 
                              
                    </address>
                   </div>
                </div>             
                  </div>

               <div class="col">
                 <div class="">
                    <address class="m-t-5 m-b-5">
                       <strong class="text-inverse">{{'titles.info_acad'|trans}}   <br><br></strong>



    
                             <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0"> {{'diplome'|trans}}   </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.diplomeId.designationfr}} </p>
                                </div>
                              </div> 

                                 <div class="d-flex align-items-center mb-0">
                                  <div>
                                  <strong> <p class="mb-0">  {{'spec'|trans}}   </p></strong> 
                                  </div>
                                  <div class="ms-auto info">
                                    <p class="mb-0"> {{  personnel.specialiteId.libelleSpecialite }}</p>
                                </div>
                              </div> 
                    
                    </address>
                   </div>
                </div>
                </div>
               </div>
             </div>


                  


                       <div class="row g-3">

                         <div class="col-12 col-lg-12">
                            <div class="card shadow-none bg-light border">
                              <div class="card-body">
                                             <div class="card-header py-2 bg-transparent">
                  <h6 class="mb-0"> {{'titles.hist_avanc'|trans}} </h6> 
                </div>
                                <div class="row g-3">
                                  <div class="table-responsive">
            <table id="example" class="table table-striped table-bordered"  style="text-align:center !important ; ">
                <thead>
                  <tr>
                    <th style="text-align:center !important ; ">{{'num_deci'|trans}}</th>
                    <th style="text-align:center !important ; ">{{'grade'|trans}}</th>  
                    <th style="text-align:center !important ; ">{{'date_grade'|trans}}</th>
                    <th style="text-align:center !important ; ">{{'echelon'|trans}}</th>  
                    <th style="text-align:center !important ; ">{{'date_deci'|trans}}</th>
                    <th style="text-align:center !important ; ">{{'arrete'|trans}}</th> 
                    <th style="text-align:center !important ; ">{{'op'|trans}}</th> 
                

                  </tr>
                </thead>
                <tbody>
      {% for avancement in avancements %}
                                  <tr  >
                                    <td>{{ avancement.numDeci }}</td>
                                    <td>{{ avancement.grade.designationFR }}</td>
                                    {% if avancement.dateGrade is not null %}
                                    <td>{{ avancement.dateGrade|date('Y-m-d') }}</td>
                                    {% else %}
                                    <td></td>
                                    {% endif %}
                                    <td>{{ avancement.echelon.designation }}</td>
                                    <td>{{ avancement.dateDeci|date('Y-m-d') }}</td>
                                    <td>
                                      {% if avancement.arrete is not null %}
                                      <a href="{{ asset('webroot/docs/' ~ avancement.personnel.nom ~ '_' ~ avancement.personnel.prenom ~ '/Arrete/' ~ avancement.arrete) }}" onclick="window.open(this.href); return false;"><i class="bi bi-file-earmark-bar-graph-fill"></i> </a>
                                      {% endif %}
                                     
                                    </td>   
    
                <td> 

                    <div class="table-actions fs-6">
                   
                              <a href="{{ path('app_avancement_edit', {'id': avancement.id}) }}" class="text-warning" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Edit"><i class="bi bi-pencil-fill"></i></a>&nbsp; &nbsp; 
                              <a href="{{ path('app_avancement_delete', {'id': avancement.id ,'_token':csrf_token('delete' ~ avancement.id) }) }}" class="text-danger" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Delete" onclick=" function delete_msg_trans()
{
    langue = document.getElementById('langue').value  ;
    
    msg = 'Are yous sure to delete this item ?';
if(langue=='fr-FR'){
  msg = 'Êtes-vous sûr de vouloir supprimer cet enregistrement ?'
    }
if(langue=='en-GB'){
  msg = 'Are yous sure to delete this item ?'
          }
  if(langue=='ar-AR'){
  msg = '? هل أنت متأكد أنك تريد حذف هذا السجل '
              }
if(langue=='es-ES'){
   msg = '¿Está seguro de que desea eliminar este registro?'
                  }
   return msg ;
}
 a = delete_msg_trans() ; return confirm(a)"><i class="bi bi-trash-fill"></i></a>
                            </div>
          
                </td>


        
            
               
            </tr>
        {% endfor %}
                </tbody>
              
              </table>
            </div>
                                </div>
                              </div>
                            </div>
                         </div>

                        
                       </div><!--end row-->




      <div class="row bg-light align-items-center m-0">
          <div class="col col-auto p-4"></div>
          <div class="my-3"></div>

          
      </div>

         <div class="card-footer py-3"></div>

</div>



{% endblock %}

