$((function(){"use strict";var t=$("#anneeSelect").find(":selected").val();function e(t){var e=$("#path-to-statScolarite").data("href");e=e.replace("1111",t),$.ajax({type:"GET",dataType:"json",url:e,success:function(t){$("#etudiant_fille").html(t.nbFilles),$("#etudiant_garçon").html(t["nbGarçons"]),$("#etudiant_totale").html(t.totales),$("#etudiant_totale_nv").html(t.nvIns)},error:function(){}})}function a(t){var e=["#00c6fb","#ff6a00","#98ec2d","#C7B446","#CD5C5C"],a=[],o=[],r=$("#path-to-nbAsDiplome").data("href");r=r.replace("1111",t),$.ajax({type:"GET",dataType:"json",url:r,success:function(t){$.each(t,(function(t,e){o.push(parseInt(e.NOMBRE)),a.push(e.COD_DIP)}));var r={series:o,chart:{height:250,type:"donut",foreColor:"#373d3f"},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0,formatter:function(t){return t.toFixed(2)+"%"},dropShadow:{}},tooltip:{theme:"dark"},colors:e,labels:a,fill:{type:"gradient"},legend:{formatter:function(t,e){return t+" : "+e.w.globals.series[e.seriesIndex]},fontSize:"10px",foreColor:"#373d3f"},title:{text:""},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};window.chart4&&window.chart4.destroy(),window.chart4=new ApexCharts(document.querySelector("#chart6"),r),window.chart4.render()},error:function(){}})}function o(t){var e=window.location.origin+"/e-ensat/public/build/images/flags/4x3/",a=$("#path-to-StatbyPays").data("href");a=a.replace("1111",t),$.ajax({type:"GET",dataType:"json",url:a,success:function(t){var a=0;$("#list_country").empty(),$.each(t,(function(t,o){$("#list_country").append("<li class='list-group-item'> <div class='d-flex align-items-center gap-2'> <div><img style='width:30px;height;15px;'  src='"+e+o.code_iso+".svg'  ></div><div> "+o.code_pays+"</div><div class='ms-auto'>"+o.nb_by_pays+"</div></div></li>"),a+=Number(o.nb_by_pays)})),$("#stat_pays_totale").text(t.length),$("#stat_totale").text(a)},error:function(){}})}function r(t){var e=["#00c6fb","#ff6a00","#98ec2d","#C7B446","#CD5C5C","#008080","#FF6347","#FFFF00","#00FF7F","#FF0000","#4169E1","#FF00FF","#20B2AA","#9400D3","#2F4F4F","#A52A2A"],a=[],o=[],r=$("#path-to-nbAsEtape").data("href");r=r.replace("1111",t),$.ajax({type:"GET",dataType:"json",url:r,success:function(t){$.each(t,(function(t,e){o.push(parseInt(e.NOMBRE)),a.push(e.COD_ETP)}));var r={series:o,chart:{height:250,type:"pie",foreColor:"#373d3f",offsetX:-40},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0,formatter:function(t){return t.toFixed(2)+"%"},dropShadow:{}},tooltip:{theme:"dark"},colors:e,labels:a,fill:{type:"gradient"},legend:{formatter:function(t,e){return t+" : "+e.w.globals.series[e.seriesIndex]},fontSize:"9px",width:120},title:{text:""},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};window.chart3&&window.chart3.destroy(),window.chart3=new ApexCharts(document.querySelector("#chart7"),r),window.chart3.render()},error:function(){}})}function n(t){var e=[],a=[],o=$("#path-to-evolutifEffect").data("href");o=o.replace("1111",t),$.ajax({type:"GET",dataType:"json",url:o,success:function(t){$.each(t,(function(t,o){e.push(o.NOMBRE),a.push(o.COD_ANU)}));var o={series:[{name:"affectif",data:e}],chart:{foreColor:"#9ba7b2",height:360,type:"area",zoom:{enabled:!1},toolbar:{show:!0}},colors:["#3461ff","#0c971a"],title:{text:"Effectifs ENSAT",align:"left",style:{fontSize:"16px",color:"#666"}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:a},tooltip:{x:{format:"yyyy"}}};window.chart2&&window.chart2.destroy(),window.chart2=new ApexCharts(document.querySelector("#chart1"),o),window.chart2.render()},error:function(){}})}function i(t){var e=["#00c6fb","#ff6a00","#98ec2d","#C7B446","#CD5C5C","#008080","#FF6347","#FFFF00","#00FF7F","#FF0000","#4169E1","#FF00FF","#20B2AA","#9400D3","#2F4F4F","#A52A2A"],a=[],o=[],r=$("#path-to-nbAsEtapeNV").data("href");r=r.replace("1111",t),$.ajax({type:"GET",dataType:"json",url:r,success:function(t){$.each(t,(function(t,e){o.push(parseInt(e.NOMBRE)),a.push(e.COD_ETP)}));var r={series:o,chart:{height:250,type:"pie",foreColor:"#373d3f",offsetX:-40},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0,formatter:function(t){return t.toFixed(2)+"%"},dropShadow:{}},tooltip:{theme:"dark"},colors:e,labels:a,fill:{type:"gradient"},legend:{formatter:function(t,e){return t+" : "+e.w.globals.series[e.seriesIndex]},fontSize:"9px"},title:{text:""},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};$("div#chart5").remove(),$("div.chartJs").append('<div id="chart5"></div>'),window.chart1=new ApexCharts(document.querySelector("#chart5"),r),window.chart1.render()},error:function(){}})}i(t),a(t),r(t),n(t),e(t),o(t),$("#anneeSelect").on("change",(function(){var t=$(this).val();a(t),r(t),n(t),e(t),i(t),o(t)}))}));