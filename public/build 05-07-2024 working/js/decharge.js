var $collectionHolder;!function(e){langue=e("#langue").val(),"ar-AR"==langue&&(langue="ar"),langue_file="https://cdn.datatables.net/plug-ins/1.13.1/i18n/"+langue+".json";var a=e("#exe1").DataTable({language:{url:langue_file},paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!1});a=e("#exemple6").DataTable({language:{url:langue_file},bDestroy:!0,columnDefs:[{targets:0,checkboxes:{selectRow:!0}}],select:{style:"multi"},order:[[1,"asc"]]});e("#ajouter").on("click",(function(){var t=a.column(0,{page:"current"}).checkboxes.selected();e.ajax({url:e("#path-to-controller").data("href"),type:"GET",dataType:"JSON",data:{liste:t.join(",")},success:function(e){location.reload()},error:function(){alert("An error ocurred while loading data ...")}})}))}(jQuery);var $addNewItem=$('<a href="#" class="btn btn-primary bi bi-plus-circle shadow-none" style="width:42px;height:35px;padding-top:7px; margin-left:0%"></a>');function addNewForm(){var e=$collectionHolder.data("prototype"),a=$collectionHolder.data("index"),t=e,n=a;t=t.replace(/__name__/g,a),$collectionHolder.data("index",a++);var l=$('<div class="panel form-group "></div>'),o=$('<div class="row panalEngagement"></div>').append(t);l.append(o),addRemoveButton(l),$addNewItem.before(l),$("#affectations_"+n).addClass("row g-3")}function addRemoveButton(e){var a=$('<a href="#" class="btn btn-danger bi bi-dash-circle shadow-none" style="width:42px;height:35px; padding-top:7px; float:right"></a>'),t=$('<div style="width:100%; height:30px ; margin-top :10px;"></div>').append(a);a.click((function(e){e.preventDefault(),$(e.target).parents(".panel").slideUp(1e3,(function(){$(this).remove()}))})),e.append(t)}$(document).ready((function(){($collectionHolder=$("#affectation_list")).append($addNewItem),$collectionHolder.find(".panel").each((function(e){addRemoveButton($(this))})),$addNewItem.click((function(e){e.preventDefault(),$collectionHolder.data("index",$collectionHolder.find(".panel").length),addNewForm()}))}));