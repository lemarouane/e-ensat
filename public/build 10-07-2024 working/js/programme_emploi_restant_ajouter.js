var $collectionHolder,interval=window.setInterval(func,50);function func(){}clearInterval(interval);var $addNewItem=$('<a href="#" class="btn btn-primary bi bi-plus-circle shadow-none" style="width:42px;height:35px;padding-top:7px; margin-left:0%"></a>');function addNewForm(){var e=$collectionHolder.data("prototype"),t=$collectionHolder.data("index"),a=0;if(a=0==t?0:t-1,0==t||""!=$("#programme_emploi_restant_programmeElementRestants_"+a+"_rubrique").val()&&t>0){var n=e,r=t;n=n.replace(/__name__/g,t),$collectionHolder.data("index",t++);var i=$('<div class="panel form-group "></div>'),o=$('<div class="row panalArticle"></div>').append(n);if(i.append(o),addRemoveButton(i,r),$addNewItem.before(i),$("#programme_emploi_restant_programmeElementRestants_"+r).addClass("row g-3"),$("#programme_emploi_restant_programmeElementRestants_"+r+"_rubrique").addClass("rub_selects"),$("#programme_emploi_restant_programmeElementRestants_"+r+"_rubrique").change((function(){for($selected_option=$(this).val(),$select_id=$(this).attr("id"),$index=0;$index<=r;$index++)$select_id.includes($index)||$("#programme_emploi_restant_programmeElementRestants_"+$index+"_rubrique option[value='"+$selected_option+"']").each((function(){$(this).prop("disabled",!0)}))})),r>0){$last=r;var l=[];for($index=0;$index<r;$index++)$option=$("#programme_emploi_restant_programmeElementRestants_"+$index+"_rubrique").val(),l.push($option);for($index=0;$index<l.length;$index++)$("#programme_emploi_restant_programmeElementRestants_"+$last+"_rubrique option[value='"+l[$index]+"']").each((function(){$(this).prop("disabled",!0)}))}}}function addRemoveButton(e,t){var a=$('<a href="#" class="btn btn-danger bi bi-dash-circle shadow-none" style="width:42px;height:35px; padding-top:7px; float:right"></a>'),n=$('<div style="width:100%; height:30px ; margin :10px;"></div>').append(a);a.click((function(e){for($selected_option=$("#programme_emploi_restant_programmeElementRestants_"+t+"_rubrique").val(),$select_id=$("#programme_emploi_restant_programmeElementRestants_"+t+"_rubrique").attr("id"),$select_txt=$("#programme_emploi_restant_programmeElementRestants_"+t+"_rubrique").find("option:selected").text(),e.preventDefault(),$k=$(".rub_selects").length,$index=0;$index<=$k;$index++)$("#programme_emploi_restant_programmeElementRestants_"+$index+"_rubrique > option").each((function(){$(this).text()==$select_txt&&$(this).prop("disabled",!1)}));$(e.target).parents(".panel").slideUp(1e3,(function(){$(this).remove()}))})),e.append(n)}$(document).ready((function(){($collectionHolder=$("#article_list")).append($addNewItem),$collectionHolder.find(".panel").each((function(e){addRemoveButton($(this))})),$addNewItem.click((function(e){e.preventDefault(),$collectionHolder.data("index",$collectionHolder.find(".panel").length),addNewForm()}))})),$("#programme_emploi_articlePE").change((function(){var e=$(this);$link_ap=$("#path-to-a-active").data("href"),$varap=$link_ap.replace("ac",$(this).prop("value")),$.ajax({url:$varap,type:"GET",dataType:"JSON",data:{article:e.val()},success:function(e){var t=$("#programme_emploi_paragraphe");t.html(""),t.append("<option value>------Selectionner un Paragraphe------</option>"),$.each(e,(function(e,a){t.append('<option value="'+a.id+'">'+a.designationFr+"</option>")}))},error:function(e){alert("An error ocurred while loading data ...")}})}));