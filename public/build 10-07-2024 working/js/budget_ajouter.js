var $collectionHolder,interval=window.setInterval(func,50);function func(){}clearInterval(interval);var indexB=0,$addNewItem=$('<a href="#" class="btn btn-primary bi bi-plus-circle shadow-none" style="width:42px;height:35px;padding-top:7px; margin-left:0%"></a>');function addNewForm(){var e=$collectionHolder.data("prototype"),t=$collectionHolder.data("index"),a=e,n=t;a=a.replace(/__name__/g,t),$collectionHolder.data("index",t++);var i=$('<div class="panel form-group "></div>'),o=$('<div class="row panalArticle"></div>').append(a);i.append(o),addRemoveButton(i,n),$addNewItem.before(i),$("#budget_budgetSorties_"+n).addClass("row g-3"),$(".typeStruct").change((function(){var e=$(this);struct=$(this).attr("id").replace("_type_","_"),$link_ap=$("#pathToTypeStructure").data("href"),$varap=$link_ap.replace("1111",e.val()),$.ajax({url:$varap,type:"GET",dataType:"JSON",data:{typeStruct:e.val()},success:function(e){var t=$("#"+struct);t.html(""),t.append("<option value>------Selectionner Structure------</option>"),$.each(e,(function(e,a){t.append('<option value="'+a.id+'">'+a.libelle+"</option>")}))},error:function(e){alert("An error ocurred while loading data ...")}})}))}function addRemoveButton(e,t){var a=$('<a href="#" class="btn btn-danger bi bi-dash-circle shadow-none" style="width:42px;height:35px; padding-top:7px; float:right"></a>'),n=$('<div style="width:100%; height:30px ; margin :10px;"></div>').append(a);a.click((function(e){e.preventDefault(),$(e.target).parents(".panel").slideUp(1e3,(function(){$(this).remove()}))})),e.append(n)}$(document).ready((function(){($collectionHolder=$("#budget_list")).append($addNewItem),$collectionHolder.find(".panel").each((function(e){addRemoveButton($(this))})),$addNewItem.click((function(e){e.preventDefault(),$collectionHolder.data("index",$collectionHolder.find(".panel").length),addNewForm()})),indexB=$collectionHolder.find(".panel").length;var e=["Laboratoire des Technologies Innovantes","Laboratoire des Technologies de l'Information et de la Communication","Ingénierie de Données et des Systèmes","Equipe de Recherche en  Mathématiques, Informatique et Applications","Mathématique Appliquée et Système Intelligent"];for($i=0;$i<indexB;$i++){if("F"==$("#budget_type1_budgetEntrees_"+$i+"_temoin").val()&&$("#budget_type1_budgetEntrees_"+$i).addClass("disabled"),2==$("#budget_budgetSorties_"+$i+"_type_structure").val()){var t=$("#budget_budgetSorties_"+$i+"_structure"),a=$("#budget_budgetSorties_"+$i+"_structure").val();for(t.html(""),t.append("<option value>------Selectionner un Structure------</option>"),$j=1;$j<=e.length;$j++)$j==a?t.append('<option value="'+$j+'" selected="selected">'+e[$j-1]+"</option>"):t.append('<option value="'+$j+'">'+e[$j-1]+"</option>")}"F"==$("#budget_budgetSorties_"+$i+"_temoin").val()&&$("#budget_budgetSorties_"+$i).addClass("disabled")}})),$(".typeStruct").change((function(){var e=$(this);struct=$(this).attr("id").replace("_type_","_"),$link_ap=$("#pathToTypeStructure").data("href"),$varap=$link_ap.replace("1111",e.val()),$.ajax({url:$varap,type:"GET",dataType:"JSON",data:{typeStruct:e.val()},success:function(e){var t=$("#"+struct);t.html(""),t.append("<option value>------Selectionner Structure------</option>"),$.each(e,(function(e,a){t.append('<option value="'+a.id+'">'+a.libelle+"</option>")}))},error:function(e){alert("An error ocurred while loading data ...")}})}));