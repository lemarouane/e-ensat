$((function(){"use strict";var e=[],t=[],r=[],o=[];$.ajax({type:"GET",dataType:"json",url:"recrutementDateAd",success:function(e){$.each(e,(function(e,r){o.push(r.nb),t.push(r.year)}))},error:function(){}});var n=[],a=[];$.ajax({type:"GET",dataType:"json",url:"effectifParActivite",success:function(e){$.each(e,(function(e,t){n.push(t.nb),a.push(t.activite)}));for(let e=0;e<a.length;e++)"N"==a[e].toString()&&$("#act_n").html(n[e].toString()),"R"==a[e].toString()&&$("#act_r").html(n[e].toString()),"M"==a[e].toString()&&$("#act_m").html(n[e].toString()),"A"==a[e].toString()&&$("#act_a").html(n[e].toString())},error:function(){}});var s=[],i=[],l=0;$.ajax({type:"GET",dataType:"json",url:"effectifevolution",success:function(e){$.each(e,(function(e,t){l+=parseInt(t.nb),i.push(l),s.push(t.year)}));var t={series:[{name:"Effectif Totale",data:i}],chart:{foreColor:"#9a9797",type:"bar",height:270,toolbar:{show:!1},zoom:{enabled:!1},dropShadow:{enabled:0,top:3,left:14,blur:4,opacity:.12,color:"#3461ff"},sparkline:{enabled:!1}},markers:{size:0,colors:["#3461ff","#12bf24"],strokeColors:"#fff",strokeWidth:2,hover:{size:7}},plotOptions:{bar:{horizontal:!1,columnWidth:"40%",endingShape:"rounded"}},legend:{show:!1,position:"top",horizontalAlign:"left",offsetX:-20},dataLabels:{enabled:!1},grid:{show:!1},stroke:{show:!0,curve:"smooth"},colors:["#12bf24"],xaxis:{categories:s,labels:{style:{fontSize:"9px"}}},tooltip:{theme:"dark",y:{formatter:function(e){return""+e}}}};new ApexCharts(document.querySelector("#chart1"),t).render()},error:function(){}}),$.ajax({type:"GET",dataType:"json",url:"repCorpsAdmin",success:function(e){$.each(e,(function(e,t){$("#ul_adm").append("<tr><td>"+t.designation_fr.toString()+"</td><td>"+t.nb.toString()+"</td></tr>")}))},error:function(){}}),$.ajax({type:"GET",dataType:"json",url:"repCorpsEnseignant",success:function(e){$.each(e,(function(e,t){$("#ul_ens").append("<tr><td>"+t.designation_fr.toString()+"</td><td>"+t.nb.toString()+"</td></tr>")}))},error:function(){}});var p=["#00c6fb","#ff6a00","#98ec2d","#C7B446","#CD5C5C","#005bea","#ee0979","#17ad37"],f=[],c=[];$.ajax({type:"GET",dataType:"json",url:"effectifParDep",success:function(e){$.each(e,(function(e,t){c.push(parseInt(t.nb)),f.push(t.libelle_dep)}));var t={series:c,chart:{height:250,type:"donut",foreColor:"#373d3f"},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(2)+"%"},dropShadow:{}},tooltip:{theme:"dark"},colors:p,labels:f,fill:{type:"gradient"},legend:{formatter:function(e,t){return e+" : "+t.w.globals.series[t.seriesIndex]},fontSize:"10px"},title:{text:""},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};new ApexCharts(document.querySelector("#chart6"),t).render()},error:function(){}});var d=["#00c6fb","#ff6a00","#0226fb","#f11a00"],u=[],h=[],b=0,g=0,m=0;$.ajax({type:"GET",dataType:"json",url:"effectifParType",success:function(e){$.each(e,(function(e,t){h.push(parseInt(t.nb)),u.push(t.libelle_personnel),2==t.id||4==t.id?g=parseInt(g)+parseInt(t.nb):b=parseInt(b)+parseInt(t.nb)})),m=g+b,$("#adm_totale").html(g.toString()),$("#pr_totale").html(b.toString()),$("#personnel_totale").html(m.toString());var t={series:h,chart:{height:250,type:"donut",foreColor:"#fff"},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(2)+"%"},dropShadow:{}},tooltip:{theme:"dark"},colors:d,labels:u,fill:{type:"gradient"},legend:{formatter:function(e,t){return e+" : "+t.w.globals.series[t.seriesIndex]},fontSize:"9px"},title:{text:""},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};new ApexCharts(document.querySelector("#chart7"),t).render()},error:function(){}});var y=[],x=[];$.ajax({type:"GET",dataType:"json",url:"effectifParGenre",success:function(e){$.each(e,(function(e,t){x.push(parseInt(t.nb)),y.push(t.genre)})),$("#personnel_femme").html(x[0].toString()),$("#personnel_homme").html(x[1].toString())},error:function(){}});var S=["#00c6fb","#ff6a00","#0226fb","#CF3476","#FF2301","#317F43","#755C48","#DE4C8A","#B5B8B1","#A18594","#025669","#BEBD7F","#7E7B52"],v=[],w=[];$.ajax({type:"GET",dataType:"json",url:"effectifParService",success:function(e){$.each(e,(function(e,t){w.push(parseInt(t.nb)),v.push(t.nom_service)}));var t={series:w,chart:{height:250,type:"pie",foreColor:"#373d3f",offsetX:-40},plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(2)+"%"},dropShadow:{}},tooltip:{theme:"dark"},colors:S,labels:v,fill:{type:"gradient"},legend:{formatter:function(e,t){return e+" : "+t.w.globals.series[t.seriesIndex]},fontSize:"9px"},title:{text:""},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]};new ApexCharts(document.querySelector("#chart9"),t).render()},error:function(){}}),$.ajax({type:"GET",dataType:"json",url:"recrutementDatePr",success:function(n){$.each(n,(function(t,o){r.push(o.nb),e.push(o.year)}));var a,s,i=Math.max.apply(Math,e),l=Math.min.apply(Math,e),p=Math.max.apply(Math,t),f=Math.min.apply(Math,t),c=0,d=0,u=[],h=[],b=[];c=i>=p?i:p,d=l<=f?l:f;for(let n=parseInt(d);n<=parseInt(c);n++)-1!=(a=e.indexOf(n.toString()))?u.push(r[a]):u.push(0),-1!=(s=t.indexOf(n.toString()))?h.push(o[s]):h.push(0),b.push(n);var g={chart:{foreColor:"#9ba7b2",height:275,type:"line",toolbar:{show:!1},zoom:{enabled:!1},dropShadow:{enabled:!0,top:3,left:2,blur:4,opacity:.1}},tooltip:{theme:"dark"},stroke:{curve:"smooth",width:3},colors:["#32bfff","#ff6632"],series:[{name:"Professeurs",data:u},{name:"Administratifs",data:h}],markers:{size:4,strokeWidth:0,hover:{size:7}},grid:{show:!0,padding:{bottom:0}},xaxis:{categories:b,labels:{style:{fontSize:"9px"}}},legend:{position:"top",horizontalAlign:"right",offsetY:-20}};new ApexCharts(document.querySelector("#chart5"),g).render()},error:function(){}})}));